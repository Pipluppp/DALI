<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/springsecurity">
<body>
<header class="header" th:fragment="header">
    <div class="container">
        <nav class="nav">
            <a th:href="@{/}" class="logo"><img th:src="@{/images/dali-logo.png}" alt="DALI Logo"/></a>
            <a th:href="@{/shop}">Shop</a>
            <a th:href="@{/stores}">Stores</a>
        </nav>
        <div class="header-actions">
            <a th:href="@{/cart}" th:text="'Cart (' + ${cartItemCount} + ')'">Cart (0)</a>

            <!-- Not Authenticated -->
            <a sec:authorize="!isAuthenticated()" th:href="@{/login}">Login</a>

            <!-- Authenticated -->
            <a sec:authorize="isAuthenticated()" th:href="@{/profile}">Profile</a>
            <form sec:authorize="isAuthenticated()" th:action="@{/logout}" method="post">
                <button type="submit" class="logout-button-linkstyle">Logout</button>
            </form>
        </div>
    </div>
</header>
</body>
</html>